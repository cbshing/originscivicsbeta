namespace = origins_civics_on_action_leader_events
# by cbshing

### On Action Leader Events


# Eternal Passive Upgrade (check every month if ascension perk)
event = {
	id = origins_civics_on_action_leader_events.100
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		any_country = { limit = { has_immortal_leaders = yes } }
	}
	
	every_country = {
		limit = { has_immortal_leaders = yes }
		if = { 
			limit = { 
				has_oc_eternal_leader_civic = yes
				any_owned_leader = {
					leader_class = ruler
					has_ruler_trait = leader_trait_oc_eternal_leader
				}
				owner_species = { has_trait = trait_latent_psionic }
				has_ascension_perk = ap_mind_over_matter
			}
			add_modifier = { modifier = oc_eternal_blessing_passive_medium days = -1 }
		}
		else_if = { 
			limit = { 
				has_oc_digitally_eternal_civic = yes
				any_owned_leader = {
					leader_class = ruler
					has_ruler_trait = leader_trait_oc_digitally_eternal
				}
				owner_species = { has_trait = trait_cybernetic }
				has_ascension_perk = ap_the_flesh_is_weak
				NOT = { has_modifier = oc_eternal_crash }
			}
			add_modifier = { modifier = oc_eternal_boost_passive_medium days = -1 }
		}
		else_if = { 
			limit = { 
				has_oc_eternal_leader_civic = yes
				any_owned_leader = {
					leader_class = ruler
					has_ruler_trait = leader_trait_oc_eternal_leader
				}
				owner_species = { has_trait = trait_psionic }
				has_ascension_perk = ap_transcendence
			}
			remove_modifier = oc_eternal_blessing_passive_medium
			add_modifier = { modifier = oc_eternal_blessing_passive_large days = -1 }
		}
		else_if = { 
			limit = { 
				has_oc_digitally_eternal_civic = yes
				any_owned_leader = {
					leader_class = ruler
					has_ruler_trait = leader_trait_oc_digitally_eternal
				}
				owner_species = { has_trait = trait_mechanical }
				has_ascension_perk = ap_synthetic_evolution
				NOT = { has_modifier = oc_eternal_crash }
			}
			remove_modifier = oc_eternal_boost_passive_medium
			add_modifier = { modifier = oc_eternal_boost_passive_large days = -1 }
		}
	}
}

# Eternal Blessing Unavailable Notification Event
country_event = {
	id = origins_civics_on_action_leader_events.101
	title = "origins_civics_on_action_leader_events.101.name"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	desc = origins_civics_on_action_leader_events.101.a
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_leader = {
			leader_class = ruler
			has_ruler_trait = leader_trait_oc_eternal_leader
		}
	}
	
	option = {
		name = UNFORTUNATE
	}
}

# Eternal Optimization Unavailable Notification Event
country_event = {
	id = origins_civics_on_action_leader_events.111
	title = "origins_civics_on_action_leader_events.111.name"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	desc = origins_civics_on_action_leader_events.111.a
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_leader = {
			leader_class = ruler
			has_ruler_trait = leader_trait_oc_digitally_eternal
		}
	}
	
	option = {
		name = UNFORTUNATE
	}
}

# Digitally Eternal Death Event (on_leader_death on_action - 1st time)
country_event = {
	id = origins_civics_on_action_leader_events.112
	title = "origins_civics_on_action_leader_events.112.name"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	desc = origins_civics_on_action_leader_events.112.a
	
	is_triggered_only = yes
	
	trigger = {
		has_oc_digitally_eternal_civic = yes
		NOT = { has_country_flag = first_eternal_leader_died }
	}
	
	option = {
		name = UNFORTUNATE
	}
}

# Digitally Eternal New Uploaded (on_ruler_set on_action)
country_event = {
	id = origins_civics_on_action_leader_events.113
	title = "origins_civics_on_action_leader_events.113.name"
	picture = GFX_evt_psionics
	show_sound = event_psionic
	desc = origins_civics_on_action_leader_events.113.a
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_leader = {
			leader_class = ruler
			has_ruler_trait = leader_trait_oc_digitally_eternal
		}
	}
	
	option = {
		name = UNFORTUNATE
	}
}
