namespace = origins_civics_leader_quest_events
# by cbshing

### Leader Events
# Eternal Death
# Digital Death


# Digitally Eternal New Uploaded Start Special Project
country_event = {
	id = origins_civics_leader_quest_events.110
	title = "origins_civics_leader_quest_events.110.name"
	picture = GFX_evt_sapient_AI
	show_sound = event_conversation
	desc = origins_civics_leader_quest_events.110.desc
	trackable = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_ai = no
		has_oc_digitally_eternal_civic = yes
		has_country_flag = oc_eternal_leader_is_died
	}
	
	option = {
		name = SHALL_BE_DONE
		capital_scope = {
			enable_special_project = {
				name = "OC_DE_UPLOAD_LEADER"
				location = this
				owner = root
			}
		}
	}
}

# Digitally Eternal New Uploaded End Special Project
country_event = {
	id = origins_civics_leader_quest_events.111
	title = "origins_civics_leader_quest_events.111.name"
	picture = GFX_evt_machine_sapience
	show_sound = event_ai_started
	desc = origins_civics_leader_quest_events.111.a
	
	is_triggered_only = yes
	
	trigger = {
		is_ai = no
		has_oc_digitally_eternal_civic = yes
		has_country_flag = oc_eternal_leader_is_died
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = synthetic_empire }}
				create_digitally_eternal_robot_leader = yes
			}
			else = {
				random_owned_leader = {
					limit = { leader_class = ruler }
					add_trait = leader_trait_oc_digitally_eternal
					add_ruler_trait = leader_trait_oc_digitally_eternal
				}
			}
			remove_country_flag = oc_eternal_leader_is_died
		}
	}
	
	option = {
		name = EXCELLENT
		remove_modifier = oc_eternal_crash
	}
}

# Digitally Eternal New Uploaded AI NPC
country_event = {
	id = origins_civics_leader_quest_events.1110
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		is_ai = yes
		has_oc_digitally_eternal_civic = yes
		has_country_flag = oc_eternal_leader_is_died
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = synthetic_empire }}
				create_digitally_eternal_robot_leader = yes
			}
			else = {
				random_owned_leader = {
					limit = { leader_class = ruler }
					add_trait = leader_trait_oc_digitally_eternal
					add_ruler_trait = leader_trait_oc_digitally_eternal
				}
			}
			remove_country_flag = oc_eternal_leader_is_died
			remove_modifier = oc_eternal_crash
		}
	}
}
